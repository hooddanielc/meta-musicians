From dd67553614ad90bb7454122b219f1cc1ef62d716 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andreas=20M=C3=BCller?= <schnitzeltony@gmail.com>
Date: Wed, 2 Jan 2019 23:04:53 +0100
Subject: [PATCH] Makefiles: align for oe-cross-build

Upstream-Status: Inappropriate [embedded specific]

Signed-off-by: Andreas MÃ¼ller <schnitzeltony@gmail.com>
---
 Makefile                  | 10 +++----
 scripts/make/configure.mk | 59 ---------------------------------------
 2 files changed, 5 insertions(+), 64 deletions(-)

diff --git a/Makefile b/Makefile
index 189af3f5..52706983 100644
--- a/Makefile
+++ b/Makefile
@@ -60,11 +60,11 @@ export BIN_PROFILE      = $(OBJDIR)/$(ARTIFACT_ID)-profile
 export BIN_TEST         = $(OBJDIR)/$(ARTIFACT_ID)-test
 
 # Utils
-export UTL_GENTTL       = $(OBJDIR)/lv2_genttl.exe
-export UTL_VSTMAKE      = $(OBJDIR)/vst_genmake.exe
-export UTL_JACKMAKE     = $(OBJDIR)/jack_genmake.exe
-export UTL_GENPHP       = $(OBJDIR)/gen_php.exe
-export UTL_RESGEN       = $(OBJDIR)/gen_resources.exe
+export UTL_GENTTL       = lv2_genttl.exe
+export UTL_VSTMAKE      = vst_genmake.exe
+export UTL_JACKMAKE     = jack_genmake.exe
+export UTL_GENPHP       = gen_php.exe
+export UTL_RESGEN       = gen_resources.exe
 export UTL_FILES        = $(UTL_GENTTL) $(UTL_VSTMAKE) $(UTL_GENPHP) $(UTL_RESGEN)
 
 # Files
diff --git a/scripts/make/configure.mk b/scripts/make/configure.mk
index ecb208c3..7b3e4a1d 100644
--- a/scripts/make/configure.mk
+++ b/scripts/make/configure.mk
@@ -57,65 +57,6 @@ export INSTALLATIONS
 export UNINSTALLATIONS
 export RELEASES
 
-# Configure compiler and linker flags
-LD_ARCH         =
-CC_ARCH         =
-LD_PATH         =
-
-# Build profile
-ifeq ($(BUILD_PROFILE),i586)
-  CC_ARCH          = -m32
-  ifeq ($(BUILD_PLATFORM), Linux)
-    LD_ARCH          = -m elf_i386
-  endif
-  ifeq ($(BUILD_PLATFORM), BSD)
-    LD_ARCH          = -m elf_i386_fbsd
-  endif
-  LD_PATH          = /usr/lib:/lib:/usr/local/lib
-endif
-
-ifeq ($(BUILD_PROFILE),x86_64)
-  CC_ARCH          = -m64
-  ifeq ($(BUILD_PLATFORM), Linux)
-    LD_ARCH          = -m elf_x86_64
-  endif
-  ifeq ($(BUILD_PLATFORM), BSD)
-    LD_ARCH          = -m elf_x86_64_fbsd
-  endif
-  LD_PATH          = /usr/lib:/lib:/usr/local/lib
-endif
-
-ifeq ($(BUILD_PLATFORM), BSD)
-  ifeq ($(BUILD_PROFILE),arm)
-    CC_ARCH          = -marm -Wl,-rpath=/usr/local/lib/gcc8
-    LD_PATH          = /usr/local/lib/gcc8
-  endif
-endif
-
-ifeq ($(BUILD_PROFILE),armv6a)
-  CC_ARCH          = -march=armv6-a -marm
-  LD_PATH          = /usr/lib64:/lib64:/usr/local/lib64
-endif
-
-ifeq ($(BUILD_PROFILE),armv7a)
-  CC_ARCH          = -march=armv7-a -marm
-  LD_PATH          = /usr/lib64:/lib64:/usr/local/lib64
-endif
-
-ifeq ($(BUILD_PROFILE),armv8a)
-  CC_ARCH          = -march=armv7-a -marm
-  LD_PATH          = /usr/lib64:/lib64:/usr/local/lib64
-endif
-
-ifeq ($(BUILD_PROFILE),aarch64)
-  CC_ARCH          = -march=armv8-a
-  LD_PATH          = /usr/lib:/lib:/usr/local/lib
-endif
-
-export CC_ARCH
-export LD_ARCH
-export LD_PATH
-
 export INCLUDE     = -I"${CURDIR}/include"
 
 # Dependencies: compile headers and linkage libraries
-- 
2.21.0

